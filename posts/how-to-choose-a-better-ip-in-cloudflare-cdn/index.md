# 如何手工选择优质的CloudFlare CDN节点IP


<!--more-->

## 网上流传的优质节点 `IP`

```
172.64.32.1/24 （推荐移动，走香港）
104.28.14.0/24 （推荐移动，走新加坡）
104.23.240.0-104.23.243.254 （推荐联通、移动，线路未知）
108.162.236.1/24 （推荐联通，走美国）
104.20.157.0/24 （推荐联通，走日本）
104.16.160.1/24 （推荐电信，走洛杉矶）
172.64.0.0/24 （推荐电信，走旧金山）
172.64.32.* （走欧洲）
```

## 传说`CloudFlare` 与百度云合作的节点 `IP`

```
162.159.208.4-162.159.208.103
162.159.209.4-162.159.209.103
162.159.210.4-162.159.210.103
162.159.211.4-162.159.211.103
162.159.211.4-103
103.21.244.0/22
103.22.200.0/22
103.31.4.0/22
104.16.0.0/12
108.162.192.0/18
131.0.72.0/22
141.101.64.0/18
162.158.0.0/15
172.64.0.0/13
173.245.48.0/20
188.114.96.0/20
190.93.240.0/20
197.234.240.0/22
198.41.128.0/17
```

## 网友收集的 `CloudFlare` 国内线路友好节点 `IP` ：

```
108.162.236.1/24 联通 走美国
172.64.32.1/24 移动 走香港
104.16.160.1/24 电信 走美国洛杉矶
172.64.0.0/24 电信 美国旧金山
104.20.157.0/24 联通 走日本
104.28.14.0/24 移动 走新加坡
```

网友关于各线路推荐列表：
电信：推荐走圣何塞，例：`104.16.160.*` 或者上面的百度云合作 IP
移动：推荐走移动香港，例：`172.64.32.*` `141.101.115.*` 或者 `104.23.240.0-104.23.243.254`
联通：没发布什么好线路，可走圣何塞。例：`104.16.160.*` 或者 `104.23.240.0-104.23.243.254` 。也可以试一下走亚特兰大 `108.162.236.*`

## 其它节点 `IP`

这些IP不一定可以用，请测试后再使用：

```
104.18.62.1/24 香港hkix.net
104.16.35.1/24 香港hkix.net
104.16.36.1/24 香港hkix.net
104.18.35.1/24 香港hkix.net
104.18.36.1/24 香港hkix.net
104.16.54.1/24 香港
104.16.55.1/24 香港
104.18.128.1/24 香港
104.18.129.1/24 香港
104.18.130.1/24 香港
104.18.131.1/24 香港
104.18.132.1/24 香港
104.19.195.1/24 香港
104.19.196.1/24 香港
104.19.197.1/24 香港
104.19.198.1/24 香港
104.19.199.1/24 香港
#适合电信的节点
104.23.240.*
#走欧洲各国出口 英国德国荷兰等 延迟比美国高一些 适合源站在欧洲的网站
172.64.32.*
#虽然去程走新加坡，但是回程线路的绕路的，实际效果不好，不推荐
104.16.160.*
#圣何塞的线路，比洛杉矶要快一点，推荐
108.162.236.*
#亚特兰大线路，延迟稳定，但是延迟较高
#适合移动的节点
162.158.133.* 
#走的丹麦，这一段ip只有部分能用，可以自己试一下，绕美国
198.41.214.*
198.41.212.*
198.41.208.*
198.41.209.*
172.64.32.*
141.101.115.*
#移动走香港的IP段有很多，以上并不是全部。CF移动走香港的分直连和走ntt的效果都挺不错的，不过部分地区晚上还是会丢包。
172.64.0. *
#这是走圣何塞的，一般用香港的就行
172.64.16.* 
#欧洲线路.绕
#1.0.0.1效果较好
电信部分
大多数省直接使用1.0.0.0即可，延迟低，丢包少，
# 移动部分
#新加坡
104.18.48.0-104.18.63.255
104.24.112.0-104.24.127.255
104.27.128.0-104.27.143.255
104.28.0.0-104.28.15.255
# 移动部分
#圣何塞 
104.28.16.0-31.255
104.27.144.0-243.254
104.23.240.0-243.254
#香港cloudflare1-100g.hkix.net
1.0.0.0-254
1.1.1.0-254
#香港直连
104.16.0.0-79.255
104.16.96.0-175.254
104.16.192.0-207.255
```

## 自动查找最优 `CloudFlare` 节点 `IP`

如果上面所列出来的 `CloudFlare` 节点 `IP` 都不能使用了，这里提供一个由 `@犯罪高手` 大佬写的自动查找最优 `CloudFlare` 节点 `IP` BAT 脚本

[下载地址点这里](https://cowtransfer.com/s/03584412a9f843)

### 使用方法

#### 推荐使用半自动方式查找

可以发给不同地区的网站用户帮忙进行测速

1. 执行 `1-自动查找100个丢包最少的IP.bat`
   设置对 `IP` 丢包测试 `PING` 的次数，默认 `100` 次，可手动设定，推荐 `50` 次以上。运行完毕后命令行窗口会自动关闭再进行下一步操作
2. 执行 `2-对100个丢包最少的IP测速.bat`
   此过程是利用 `curl` 下载托管于cloudflare的大文件，默认每个 `IP` 下载时间为 `10` 秒钟。下载结束后到 `temp` 文件夹根据文件大小排序查看下载文件的大小。文件越大，代表单位时间内传输的数据越多，速度就越快。其中文件名是以 `IP` 地址的名称命名的。如果想要对 `IP` 单线程测速，可参考第三步。如果第三步找不到好用的 `IP` ，可重新执行第二步，再此完整测速分析
3. 执行 `3-单IP测速.bat` 输入第二步筛选出来的 `IP` 地址，回车后进行文件下载速度测试
4. 如果觉得上述过程过于繁琐 请参照最后一步
5. 懒人版全自动处理 执行 `自动查找最优CF节点-懒人专用.bat` 等待运行完毕后自动弹出 `IP` 速度从大到小的排名文本文件 该测试的结果不一定能达到预期的效果
